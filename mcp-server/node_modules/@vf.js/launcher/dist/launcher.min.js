/*!
 * launcher.min.js 
 *  Compiled Tue May 11 2021 16:48:44 GMT+0800 (China Standard Time) 
 *  https://vipkid-edu.github.io/vf-docs/
 */
!function(e,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var t=i();for(var n in t)("object"==typeof exports?exports:e)[n]=t[n]}}(window,(function(){return function(e){var i={};function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var o in e)t.d(n,o,function(i){return e[i]}.bind(null,o));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},t.p="",t(t.s=1)}([,function(e,i,t){"use strict";t.r(i);var n=function(){function e(e){this._isShow=!1,this.position="rightBottom",this._parent=e,this._image="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyAgZGlzcGxheTogYmxvY2s7IHNoYXBlLXJlbmRlcmluZzogYXV0bzsiIHdpZHRoPSI0MXB4IiBoZWlnaHQ9IjQxcHgiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+CjxnIHRyYW5zZm9ybT0icm90YXRlKDAgNTAgNTApIj4KICA8cmVjdCB4PSI0NiIgeT0iMjkiIHJ4PSI0IiByeT0iMyIgd2lkdGg9IjgiIGhlaWdodD0iNiIgID4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuOTE2NjY2NjY2NjY2NjY2NnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMzAgNTAgNTApIj4KICA8cmVjdCB4PSI0NiIgeT0iMjkiIHJ4PSI0IiByeT0iMyIgd2lkdGg9IjgiIGhlaWdodD0iNiIgID4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuODMzMzMzMzMzMzMzMzMzNHMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoNjAgNTAgNTApIj4KICA8cmVjdCB4PSI0NiIgeT0iMjkiIHJ4PSI0IiByeT0iMyIgd2lkdGg9IjgiIGhlaWdodD0iNiIgID4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuNzVzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogIDwvcmVjdD4KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDkwIDUwIDUwKSI+CiAgPHJlY3QgeD0iNDYiIHk9IjI5IiByeD0iNCIgcnk9IjMiIHdpZHRoPSI4IiBoZWlnaHQ9IjYiICA+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjY2NjY2NjY2NjY2NjY2NjZzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogIDwvcmVjdD4KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDEyMCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ2IiB5PSIyOSIgcng9IjQiIHJ5PSIzIiB3aWR0aD0iOCIgaGVpZ2h0PSI2IiAgPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC41ODMzMzMzMzMzMzMzMzM0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTAgNTApIj4KICA8cmVjdCB4PSI0NiIgeT0iMjkiIHJ4PSI0IiByeT0iMyIgd2lkdGg9IjgiIGhlaWdodD0iNiIgID4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuNXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMTgwIDUwIDUwKSI+CiAgPHJlY3QgeD0iNDYiIHk9IjI5IiByeD0iNCIgcnk9IjMiIHdpZHRoPSI4IiBoZWlnaHQ9IjYiICA+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjQxNjY2NjY2NjY2NjY2NjdzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogIDwvcmVjdD4KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDIxMCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ2IiB5PSIyOSIgcng9IjQiIHJ5PSIzIiB3aWR0aD0iOCIgaGVpZ2h0PSI2IiAgPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC4zMzMzMzMzMzMzMzMzMzMzcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgyNDAgNTAgNTApIj4KICA8cmVjdCB4PSI0NiIgeT0iMjkiIHJ4PSI0IiByeT0iMyIgd2lkdGg9IjgiIGhlaWdodD0iNiIgID4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuMjVzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogIDwvcmVjdD4KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDI3MCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ2IiB5PSIyOSIgcng9IjQiIHJ5PSIzIiB3aWR0aD0iOCIgaGVpZ2h0PSI2IiAgPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC4xNjY2NjY2NjY2NjY2NjY2NnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMzAwIDUwIDUwKSI+CiAgPHJlY3QgeD0iNDYiIHk9IjI5IiByeD0iNCIgcnk9IjMiIHdpZHRoPSI4IiBoZWlnaHQ9IjYiICA+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjA4MzMzMzMzMzMzMzMzMzMzcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgzMzAgNTAgNTApIj4KICA8cmVjdCB4PSI0NiIgeT0iMjkiIHJ4PSI0IiByeT0iMyIgd2lkdGg9IjgiIGhlaWdodD0iNiIgID4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iMHMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg=="}return Object.defineProperty(e.prototype,"image",{get:function(){return this._image},set:function(e){this._loadingImg&&(this._loadingImg.src=e),this._image=e},enumerable:!1,configurable:!0}),e.prototype.show=function(){if(this._parent){var e=this._parent;if(!this._isShow&&this._image){this._isShow=!0;var i=this._loadingImg=new Image;i.name="vf-loading",i.id=Date.now().toString(),i.style.position="absolute",i.src=this._image;var t=this.getInnerBound(e),n=this.position;i.onload=function(){var o=t.w-i.width,r=t.h-i.height;switch(n){case"leftTop":o=0,r=0;break;case"rightTop":o=t.w-i.width,r=0;break;case"leftBottom":o=0,r=t.h-i.height;break;case"rightBottom":o=t.w-i.width,r=t.h-i.height;break;default:o=t.w-i.width>>1,r=t.h-i.height>>1}Array.isArray(n)&&(o=n[0],r=n[1]),i.style.left=o+"px",i.style.top=r+"px",e.appendChild(i)}}}},e.prototype.hide=function(){var e=this._loadingImg;e&&e.parentNode&&(e.onload=null,e.parentNode.removeChild(e),e.remove()),this._isShow=!1},e.prototype.dispose=function(){this._loadingImg=void 0,this._parent=void 0,this._image=void 0},e.prototype.getInnerBound=function(e){for(var i=e,t=e.clientWidth,n=e.clientHeight,o=0;o<5;o++){if(0!==i.clientWidth||!i.parentElement){t=i.clientWidth,n=i.clientHeight;break}i=i.parentElement}return{w:t,h:n}},e}();function o(e){for(var i=window.location.search.substring(1).split("&"),t=0;t<i.length;t++){var n=i[t].split("=");if(n[0]===e)return n[1]}}var r=function(){function e(e){this._readyState="init",this.onError=function(e){},this.onInit=function(){},this.onReady=function(){},this.onSceneLoad=function(e){},this.onSceneLoadProgress=function(e){},this.onSceneCreate=function(e){},this.onMessage=function(e){},this.onDispose=function(){},this.option=e;var i=this.createApp();this.app=i.app,this.uiStage=i.uiStage,i.uiStage.on("message",this.sendMessage,this),i.uiStage.on("status",this.onStatus,this),this.readyState="init"}return Object.defineProperty(e.prototype,"readyState",{get:function(){return this._readyState},set:function(e){this._readyState=e,this.uiStage.emit("status",{code:e,level:"status",data:e})},enumerable:!1,configurable:!0}),e.prototype.createApp=function(){var e=this.option,i=this.app=new vf.Application({backgroundColor:parseInt(e.bgcolor||"0",16),transparent:"transparent"===e.wmode,antialias:!0,resolution:e.resolution,forceCanvas:e.forceCanvas,powerPreference:"low-power"});e.container.appendChild(this.app.view);var t=vf.gui.Utils,n=t.getBoundingClientRect(e.container),o=t.formatRelative(e.width,n.width),r=t.formatRelative(e.height,n.height),s=new vf.gui.Stage(o,r,i);t.calculateUpdatePlayerSize(e.container,i,s,o,r,e.scaleMode);var a=e.frameRate||30;return i.ticker.maxFPS=a,vf.Ticker.system.maxFPS=a,vf.Ticker.shared.stop(),vf.Ticker.shared.maxFPS=a,vf.gui.TickerShared.maxFPS=a,vf.gui.Utils.debug=e.debug||!1,{app:i,uiStage:s}},Object.defineProperty(e.prototype,"Main",{get:function(){return this._main},enumerable:!1,configurable:!0}),e.prototype.play=function(e,i){var t=this;e&&i&&vf.utils.readFileSync(e,{moduleName:i}).then((function(e){t._main=new e(t),t.readyState="ready"}))},e.prototype.sendMessage=function(e){this.onMessage&&this.onMessage(e)},e.prototype.onStatus=function(e){if("error"!==e.level&&"warning"!==e.level)switch(e.code){case"init":this.onInit&&this.onInit();break;case"ready":this.onReady&&this.onReady();break;case"SceneLoad":this.onSceneLoad&&this.onSceneLoad(e);break;case"LoadProgress":this.onSceneLoadProgress&&this.onSceneLoadProgress(e);break;case"ScenComplete":this.onSceneCreate&&this.onSceneCreate(e)}else this.onError&&this.onError(e)},e.prototype.sendCommand=function(e){void 0===e.level&&(e.level="command"),this.uiStage.emit("onMessage",e)},e.prototype.message=function(e){"object"==typeof e&&void 0!==e.code&&void 0!==e.level?(e.$system=!0,this.sendCommand(e)):this.onError({code:"error",message:"vf message 消息格式异常",data:e,level:"error"})},e.prototype.pause=function(){this.sendCommand({code:"pause"})},e.prototype.resume=function(){this.sendCommand({code:"resume"})},e.prototype.reset=function(){this.sendCommand({code:"reset"})},e.prototype.switchToNextScene=function(e){this.sendCommand({code:"switchToNextScene",data:e})},e.prototype.switchToPrevScene=function(e){this.sendCommand({code:"switchToPrevScene",data:e})},e.prototype.switchToSceneId=function(e,i){this.sendCommand({code:"switchToSceneId",data:{sceneId:e,transition:i}})},e.prototype.switchToSceneIndex=function(e,i){this.sendCommand({code:"switchToSceneIndex",data:{index:e,transition:i}})},e.prototype.dispose=function(){"disabled"!==this.readyState&&(this.readyState="disabled",this._main&&this._main.releaseAll&&this._main.releaseAll(),this._main=void 0,this.onDispose())},e.prototype.destroy=function(){vf.AudioEngine.Ins().dispose(),this.dispose(),this.uiStage.offAll(),this.uiStage.releaseAll(),this.app.destroy(!0,{children:!0,texture:!0,baseTexture:!0}),this.option=null,this.app=null,this.uiStage=null},e}();function s(){var e=document.getElementsByName("vf-script"),i=[];for(e.forEach((function(e){""!==e.title&&e.hasAttribute("isLoad")&&i.push(e)}));i.length;)i[0].onload=null,i[0].onerror=null,i[0].remove(),i.splice(0,1);var t=window;try{t&&(t.vf&&(t.vf.launcherPlayer&&t.vf.launcherPlayer.dispose&&(t.vf.launcherPlayer.dispose(),t.vf.launcherPlayer=null),delete t.vf),t.gui&&delete t.gui,t.VFConversion&&delete t.VFConversion)}catch(e){}}window.vf&&window.vf.launcherPlayer;var a=function(){function e(e,i,t){if(this._cdnsIndex=0,this._errorCount=0,this._errorMax=10,this.version="1.6.1",this.buildInfo="5/11/2021, 4:48:44 PM",this._isPlayer=!0,this._progress=[],void 0===i)throw new Error("VFLauncher constructor Expected 2-3 arguments");this._loading=new n(e.container),void 0===window.vf&&(window.vf={}),e.scaleMode||(e.scaleMode="showAll"),void 0===e.vfvars&&(e.vfvars={}),void 0===e.exclude&&(e.exclude=[]),this._engineCDN={default:["https://s.vipkidstatic.com/","https://s.vipkidresource.com/"],image:["https://img.vipkidstatic.com/","https://img.vipkidresource.com/"],media:["https://media.vipkidstatic.com/","https://media.vipkidresource.com/"],wx:["https://wx.vipkidstatic.com/","https://wx.vipkidresource.com/"]},e.loading&&(e.loading.position&&(this._loading.position=e.loading.position),e.loading.image&&(this._loading.image=e.loading.image)),e.debugVFPath=o("proxyVF")||e.debugVFPath,e.debugGuiPath=o("proxyGUI")||e.debugGuiPath,e.debugPlayerPath=o("proxyPlayer")||e.debugPlayerPath,this._ops=e,this.completeCall=i,this.errorCall=t,this.loadJs()}return e.prototype.getLibs=function(e){var i=this._ops,t=this._engineCDN.default[e],n=[],o=[];i.debug&&n.push({url:t+"vf/engine/debug/vconsole.min.js",version:"vconsole"}),i.showFPS&&n.push({url:t+"vf/engine/debug/stats.min.js",version:"stats"});var r="";return i.exclude&&(-1===i.exclude.indexOf("vf")&&(r=i.debugVFPath||t+"vf/engine/vf-v6.0.2-v58/vf.min.js",n.push({url:r,version:"vf-v6.0.2-v58"})),-1===i.exclude.indexOf("gui")&&(r=i.debugGuiPath||t+"vf/engine/gui-v2.6.1/gui.min.js",n.push({url:r,version:"gui-v2.6.1"})),-1===i.exclude.indexOf("player")?(r=i.debugPlayerPath||t+"vf/engine/player-v1.6.1/player.min.js",n.push({url:r,version:"player-v1.6.1"})):this._isPlayer=!1),i.libs&&i.libs.forEach((function(e,i){n.push({url:e,version:"vf-lib-"+i+"-"+performance.now()})})),n.forEach((function(e){null===document.getElementById(e.version)&&o.push(e)})),o},e.prototype.loadJs=function(){var e=this,i=this.getLibs(this._cdnsIndex);if(0!==i.length)this._loading.show(),i.forEach((function(i){e._progress.push(e.cretaeScript(i.url,i.version,"1.6.1"))}));else{if(!this.checkLoadStates())return;this.createEngine()}},e.prototype.checkLoadStates=function(){for(var e=document.getElementsByName("vf-script"),i=0;i<e.length;i++)if("1.6.1"===e[i].title&&"false"===e[i].getAttribute("isLoad"))return!1;return!0},e.prototype.cretaeScript=function(e,i,t){var n=document.createElement("script");return n.setAttribute("name","vf-script"),n.setAttribute("isLoad","false"),n.setAttribute("crossorigin","anonymous"),n.type="text/javascript",n.id=i,n.title=t,n.async=!1,n.src=e,n.onload=this.onJsComplete.bind(this),n.onerror=this.onJsError.bind(this),document.body.appendChild(n),n},e.prototype.onJsComplete=function(e){e.target.setAttribute("isLoad","true");var i=!0;this._progress.forEach((function(e){"false"===e.getAttribute("isLoad")&&(i=!1)})),i&&this.createEngine()},e.prototype.onJsError=function(e){var i=e.target;if(this._errorCount>this._errorMax)this.errorCall&&this.errorCall({code:"LoadError",level:"error",data:[i.src]});else{var t=this._progress,n=t.indexOf(e.target),o=this._engineCDN.default[this._cdnsIndex%this._engineCDN.default.length];this._cdnsIndex++,this._errorCount++;var r=i.src.substr(i.src.indexOf("/",10)+1);i.src=o+r;for(var s=n;s<t.length;s++)this.removeScriptEvent(t[s]),t[s].remove(),t[s]=this.cretaeScript(t[s].src,t[s].id,t[s].title)}},e.prototype.removeScriptEvent=function(e){e.onload=null,e.onerror=null},e.prototype.clearCachePlayer=function(){var e=window;e.vf&&e.vf.launcherPlayer&&e.vf.launcherPlayer.dispose&&(e.vf.launcherPlayer.dispose(),e.vf.launcherPlayer=null)},e.prototype.createEngine=function(){if(this.completeCall){var e=vf.utils.getSystemInfo().device.type;if(this._ops.debug&&("mobile"===e||"tablet"===e)){var i=new window.VConsole;this._ops.showConsole&&i.show()}if(this._ops.showFPS){var t=new window.Stats;t.showPanel(0),document.body.appendChild(t.dom);var n=function(){t.begin(),t.end(),requestAnimationFrame(n)};requestAnimationFrame(n)}if(vf.utils.skipHello(),this._isPlayer){var o=new window.vf.player.Player(this._ops);this.clearCachePlayer(),window.vf.launcherPlayer=o,this.completeCall(o)}else this.completeCall(new r(this._ops));vf.utils.versionPrint(this.version),this.completeCall=void 0,this.errorCall=void 0}this._loading.hide(),this._loading.dispose()},e}();function l(e,i,t){for(var n=document.getElementsByName("vf-script"),o=0;o<n.length;o++)if("1.6.1"!==n[o].title&&""!==n[o].title){s();break}new a(e,i,t)}t.d(i,"deleteVF",(function(){return s})),t.d(i,"VIPKIDLauncher",(function(){return a})),t.d(i,"createVF",(function(){return l}))}])}));